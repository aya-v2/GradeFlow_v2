{% extends "base.html.twig" %}

{% block title %}{% if edit %}Éditer{% else %}Créer{% endif %} Filière{% endblock %}

{% block body %}
    {% include 'components/sidebar.html.twig' %}

    <main class="min-h-screen p-8 bg-white">
        <div class="max-w-2xl mx-auto">
            <a href="{{ path('app_admin_filieres') }}" class="text-indigo-600 hover:text-indigo-700 font-medium text-sm mb-6 inline-flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
                Retour aux filières
            </a>

            <header class="mb-8">
                <h1 class="text-4xl font-bold text-gray-900">{% if edit %}Éditer Filière{% else %}Créer Filière{% endif %}</h1>
            </header>

            <div class="bg-white rounded-2xl shadow-sm border border-slate-100 p-8">
                <form method="post" class="space-y-6">
                    <!-- Name -->
                    <div>
                        <label class="block text-sm font-bold text-gray-900 mb-2">Nom de la filière *</label>
                        <input type="text" name="name" value="{{ filiere ? filiere.name : '' }}" required
                               class="w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                               placeholder="Ex: Informatique, Mathématiques, Physique...">
                    </div>

                    <!-- Code -->
                    <div>
                        <label class="block text-sm font-bold text-gray-900 mb-2">Code *</label>
                        <input type="text" name="code" value="{{ filiere ? filiere.code : '' }}" required
                               class="w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                               placeholder="Ex: INFO, MATH, PHY...">
                    </div>

                    <!-- Form Actions -->
                    <div class="flex gap-4 pt-6 border-t border-slate-100">
                        <button type="submit" class="px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-bold">
                            {% if edit %}Enregistrer Modifications{% else %}Créer Filière{% endif %}
                        </button>
                        <a href="{{ path('app_admin_filieres') }}" class="px-6 py-3 border border-slate-200 rounded-lg hover:bg-slate-50 transition font-medium">
                            Annuler
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </main>

    {% include 'components/sidebar_close.html.twig' %}
{% endblock %}
