{% extends "base.html.twig" %}

{% block title %}Sélectionner - Notation{% endblock %}

{% block body %}
    {% include 'components/sidebar.html.twig' %}

    <main class="min-h-screen p-8 bg-white">
        <div class="max-w-2xl mx-auto">
            <header class="mb-8">
                <h1 class="text-4xl font-bold text-gray-900">Saisir les Notes</h1>
                <p class="text-gray-500 text-sm mt-2">Sélectionnez une classe et un module pour saisir les notes</p>
            </header>

            {% if assignments is empty %}
                <div class="bg-amber-50 border border-amber-200 rounded-2xl px-6 py-8 text-center">
                    <svg class="w-8 h-8 mx-auto text-amber-600 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <p class="text-amber-800 font-medium">Aucune classe assignée cette année</p>
                    <p class="text-amber-700 text-sm mt-1">Vous n'avez pas de classes assignées pour l'année actuelle</p>
                </div>
            {% else %}
                <div class="space-y-4">
                    {% for assignment in assignments %}
                        <a href="{{ path('app_teacher_grade', { id: assignment.id }) }}" 
                           class="block p-6 bg-white border border-slate-100 rounded-2xl shadow-sm hover:shadow-md hover:border-indigo-300 transition group">
                            <div class="flex items-start justify-between">
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 group-hover:text-indigo-600 transition">
                                        {{ assignment.module.name }}
                                    </h3>
                                    <div class="mt-2 space-y-1">
                                        <p class="text-sm text-gray-600">
                                            <span class="font-medium">Classe:</span> {{ assignment.associatedClass.name }}
                                        </p>
                                        <p class="text-sm text-gray-600">
                                            <span class="font-medium">Filière:</span> {{ assignment.associatedClass.filiere.name }}
                                        </p>
                                        <p class="text-sm text-gray-600">
                                            <span class="font-medium">Niveau:</span> L{{ assignment.associatedClass.level }}
                                        </p>
                                    </div>
                                </div>
                                <svg class="w-3 h-3 text-indigo-400 group-hover:text-indigo-600 transition mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                </svg>
                            </div>
                        </a>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </main>

    {% include 'components/sidebar_close.html.twig' %}
{% endblock %}
